
> proofpay-indexer@1.0.0 dev
> tsx watch src/index.ts

15:28:29 [32minfo[39m Starting ProofPay Indexer {
  "service": "proofpay-indexer",
  "module": "main",
  "nodeEnv": "development",
  "config": {
    "XION_RPC_WS": "wss://rpc.xion-testnet-2.burnt.com/websocket",
    "CONTRACT_ADDRESS": "xion1lxcdce37k8n4zyanq3ne5uw958cj0r6mnrr4kdpzrylvsanfcvpq0gzrxy",
    "SUPABASE_URL": "https://mchiibkcxzejravsckzc.supabase.co",
    "ONESIGNAL_APP_ID": "ff05bf9f..."
  }
}
15:28:29 [32minfo[39m Supabase client initialized {
  "service": "proofpay-indexer",
  "module": "supabase"
}
15:28:29 [32minfo[39m OneSignal client initialized {
  "service": "proofpay-indexer",
  "module": "notifications",
  "appId": "ff05bf9f..."
}
15:28:29 [32minfo[39m Event processor initialized {
  "service": "proofpay-indexer",
  "module": "eventProcessor"
}
15:28:29 [32minfo[39m Blockchain listener initialized {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "rpcUrl": "wss://rpc.xion-testnet-2.burnt.com/websocket",
  "contractAddress": "xion1lxcdce37k8n4zyanq3ne5uw958cj0r6mnrr4kdpzrylvsanfcvpq0gzrxy"
}
15:28:29 [32minfo[39m OneSignal client initialized {
  "service": "proofpay-indexer",
  "module": "notifications",
  "appId": "ff05bf9f..."
}
15:28:29 [32minfo[39m Timer worker initialized {
  "service": "proofpay-indexer",
  "module": "timerWorker"
}
15:28:29 [32minfo[39m ProofPay Indexer initialized {
  "service": "proofpay-indexer",
  "module": "main",
  "nodeEnv": "development",
  "port": 3001
}
15:28:29 [32minfo[39m Starting ProofPay Indexer services... {
  "service": "proofpay-indexer",
  "module": "main"
}
(node:4707) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
15:28:29 [32minfo[39m Supabase connection test successful {
  "service": "proofpay-indexer",
  "module": "supabase"
}
15:28:29 [32minfo[39m âœ… Supabase connection established {
  "service": "proofpay-indexer",
  "module": "main"
}
15:28:29 [32minfo[39m Event handler registered {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "totalHandlers": 1
}
15:28:29 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:29 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:29 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:29 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:29 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:29 [32minfo[39m âœ… XION blockchain connection established {
  "service": "proofpay-indexer",
  "module": "main"
}
15:28:29 [32minfo[39m Timer worker started - checking for expired tasks every minute {
  "service": "proofpay-indexer",
  "module": "timerWorker"
}
15:28:29 [32minfo[39m âœ… Timer worker started {
  "service": "proofpay-indexer",
  "module": "main"
}
15:28:29 [32minfo[39m ðŸš€ ProofPay Indexer fully operational {
  "service": "proofpay-indexer",
  "module": "main"
}
15:28:29 [32minfo[39m âœ… Health check server running on port 3001 {
  "service": "proofpay-indexer",
  "module": "main"
}
15:28:29 [32minfo[39m Supabase connection test successful {
  "service": "proofpay-indexer",
  "module": "supabase"
}
15:28:34 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:34 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:34 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:34 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:34 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:39 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:39 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:39 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:39 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:39 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:39 [32minfo[39m Supabase connection test successful {
  "service": "proofpay-indexer",
  "module": "supabase"
}
15:28:44 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:44 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:44 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:44 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:44 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:49 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:49 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:49 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:49 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:49 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:54 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:54 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:54 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:54 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:54 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:28:59 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:28:59 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:28:59 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:28:59 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:28:59 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:29:00 [32minfo[39m Starting expired tasks processing {
  "service": "proofpay-indexer",
  "module": "timerWorker"
}
15:29:04 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:29:04 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:29:04 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:29:04 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:29:04 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:29:09 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:29:09 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:29:09 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:29:09 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:29:09 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:29:14 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:29:14 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:29:14 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:29:14 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:29:14 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:29:19 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:29:19 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:29:19 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:29:19 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:29:19 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
15:29:24 [32minfo[39m Connecting to XION WebSocket... {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "url": "wss://rpc.xion-testnet-2.burnt.com/websocket"
}
15:29:24 [32minfo[39m Subscribed to new blocks {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "query": "tm.event='NewBlock'"
}
15:29:24 [31merror[39m Event stream error {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "error": {}
}
15:29:24 [32minfo[39m Scheduling reconnection attempt 1/10 {
  "service": "proofpay-indexer",
  "module": "blockchain",
  "delay": "5000ms"
}
15:29:24 [32minfo[39m Successfully connected to XION WebSocket {
  "service": "proofpay-indexer",
  "module": "blockchain"
}
